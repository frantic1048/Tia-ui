@import "ui-variables";
@import "ui-mixins";

atom-text-editor[mini], atom-text-editor[mini]::shadow {
  color: @text-color-highlight;
  background-color: @input-background-color;
  border: 1px solid @input-border-color;
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
  border-radius: @component-border-radius;
  padding-left: @component-padding/2;

  .cursor { border-color: #fff; }
  .selection .region { background-color: lighten(@input-background-color, 10%); }
}

atom-text-editor[mini].is-focused, atom-text-editor[mini].is-focused::shadow {
  background-color: lighten(@input-background-color, 5%);
  .selection .region { background-color: desaturate(@background-color-info, 50%); }
}

// FIXME: these should go in syntax themes?
atom-text-editor, atom-text-editor::shadow {
  .background(editor);

  // wrap-guide not cool
  .wrap-guide {
    opacity:0;
  }

  .line{
    &.cursor-line{
      border-bottom:1px solid lighten(@text-color-info, 5%);
      background: fade(@background-color-info, 10%);
      &>span{
      }
    }
  }

  .comment {
    color: @text-color-subtle;
  }

  .highlight.selection>.region{
    z-index: 10;
    background:fade(@background-color-info, 15%);

    // HACK:
    // I meant to show left/right border
    // for first/last line
    // of a block of selection
    // but *-of-type cannot achieve this.
    // because blank line causes a new `section`
    transform: translate3d(-3px, 0, 0);

    &:first-of-type {
      border-left:3px solid lighten(@text-color-info, 5%);
    }
    &:last-of-type {
      border-right:3px solid lighten(@text-color-info, 5%);
    }
  }

  .highlight.bracket-matcher .region{
    z-index: 11;
    border-bottom:5px solid @text-color-success;
    border-top:1px solid @text-color-success;
    border-right:1px solid @text-color-success;
    border-left:1px solid @text-color-success;
  }

  .gutter{
    background: @editor-gutter-background-color;
    &[gutter-name="linter"] {
      position: absolute;
      transform: translate3d(-6px, 0, 0);
      min-width: 6px; // overide Atom preseted gutter min-witdh
      max-width: 6px;
      background: none;
      .custom-decorations {
        background: none !important;
        .linter-row{
          background: @background-color-error;
          box-shadow: 0 0 3px fade(@background-color-error, 40%);
          .linter-gutter { display: none; }
        }
      }
    }
    .line-numbers{
      background:transparent !important;
    }
    .line-number{
      color: @text-color;
      &.cursor-line{
        background: @background-color-info;
        border-bottom:1px solid @background-color-info;
        box-shadow: 0 0 3px @background-color-info;
      }
   }
   .line-number.git-line-modified{
     border-left-color:darken(@text-color-modified, 15%);
     border-left-width:3px;
     &.cursor-line {
       border-left-color: @text-color-modified;
     }
   }
   .line-number.git-line-added{
     border-left-color: darken(@text-color-added, 15%);
     border-left-width: 3px;
     &.cursor-line {
       border-left-color: @text-color-added;
     }
   }
   .line-number.git-line-removed{
     border-left-color: darken(@text-color-removed, 15%);
     border-left-width: 3px;
     &.cursor-line {
       border-left-color: @text-color-removed;
     }
   }
  }
}
